interface assembler {
    use types.{diagnostic, instruction-metadata, target-arch};

    /// 汇编源代码到目标平台
    assemble: func(source: string, target: target-arch, optimize: bool, debug: bool) -> result;

    /// 获取支持的目标平台列表
    get-supported-targets: func() -> list<target-arch>;

    /// 验证源代码语法
    validate-syntax: func(source: string) -> list<diagnostic>;

    /// 获取指令集信息
    get-instruction-set: func(target: target-arch) -> list<instruction-metadata>;

    /// 反汇编字节码
    disassemble: func(bytecode: list<u8>, target: target-arch) -> disassemble-result;
}